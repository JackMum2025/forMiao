<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç­”å¯¹é—®é¢˜æ‰èƒ½é˜…è¯»åšå®¢</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f4;
            overflow: hidden;
        }
        #content { display: none; }
        iframe, audio { display: none; }
        .gif-container img {
            position: absolute;
            width: 100px;
            animation: fall linear infinite;
            will-change: transform, opacity; /* ä¼˜åŒ–æ€§èƒ½ */
        }
        @keyframes fall {
            from { transform: translateY(-100px); opacity: 1; }
            to { transform: translateY(100vh); opacity: 0; }
        }
    </style>
</head>
<body>
    <h2>è¯·å›ç­”ä»¥ä¸‹é—®é¢˜æ‰èƒ½æŸ¥çœ‹åšå®¢å†…å®¹ï¼š</h2>
    <p>1. æˆ‘ä»¬æœ€é•¿ä¸€èµ·åƒçš„æ˜¯ä»€ä¹ˆï¼Ÿ</p>
    <input type="text" id="q1" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ">
    <p>2. æˆ‘æ¯å¤©ä¼šæé†’ä½ åƒçš„æ˜¯ä»€ä¹ˆï¼Ÿ</p>
    <input type="text" id="q2" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ">
    <p>3. ä½ çš„ä»£è¡¨æ€§å…¬ä»”æ˜¯ä»€ä¹ˆåå­—ï¼Ÿ</p>
    <input type="text" id="q3" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ">
    <p>4. æˆ‘ç›®å‰è¦å¼¹ç»™ä½ å¬çš„é’¢ç´æ›²æ˜¯ä»€ä¹ˆåå­—ï¼Ÿ</p>
    <input type="text" id="q4" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ">
    <br><br>
    <button onclick="checkAnswers()">æäº¤</button>

    <div id="content">
        <h2>ğŸ‰ æ¬¢è¿ï¼ä½ ç­”å¯¹äº†é—®é¢˜ï¼</h2>
        <img src="https://example.com/reward.jpg" alt="å¥–åŠ±å›¾ç‰‡" style="max-width: 80%;">
        <h2>ğŸ“– ä»Šæ—¥æ—¥è®°</h2>
        <pre id="diary-content">åŠ è½½ä¸­...</pre>
    </div>

    <!-- GIF é£˜è½æ•ˆæœ -->
    <div class="gif-container"></div>

    <!-- èƒŒæ™¯éŸ³ä¹ -->
    <audio id="bgMusic" loop>
        <source id="musicSource" src="https://example.com/music.mp3" type="audio/mpeg">
    </audio>

    <script>
        // GIF é£˜è½æ•ˆæœ
        function createFallingGifs() {
            const gifUrls = [
                "https://example.com/gif1.gif",
                "https://example.com/gif2.gif",
                // å…¶ä»– GIF é“¾æ¥
            ];
            const container = document.querySelector(".gif-container");
            let isAnimating = true;

            function animate() {
                if (!isAnimating) return;

                const img = document.createElement("img");
                img.src = gifUrls[Math.floor(Math.random() * gifUrls.length)];
                img.style.left = Math.random() * 100 + "vw";
                img.style.animationDuration = Math.random() * 3 + 2 + "s";
                img.style.willChange = "transform, opacity";
                container.appendChild(img);

                setTimeout(() => img.remove(), 5000);

                if (container.children.length < 10) {
                    requestAnimationFrame(animate);
                } else {
                    setTimeout(() => requestAnimationFrame(animate), 500);
                }
            }

            animate();

            return {
                start: () => {
                    isAnimating = true;
                    animate();
                },
                stop: () => {
                    isAnimating = false;
                }
            };
        }

        let fallingGifs = createFallingGifs();

        // ç­”æ¡ˆæ£€æŸ¥
        function checkAnswers() {
            let q1 = document.getElementById("q1").value.trim().toLowerCase();
            let q2 = document.getElementById("q2").value.trim().toLowerCase();
            let q3 = document.getElementById("q3").value.trim().toLowerCase();
            let q4 = document.getElementById("q4").value.trim().toLowerCase();

            const correctAnswers = {
                q1: ["mcdonalds", "mcd"],
                q2: ["vitamin c", "vit c"],
                q3: ["ä¸€äºŒ"],
                q4: ["ç«¥è¯"]
            };

            let isQ1Correct = correctAnswers.q1.some(answer => q1.includes(answer));
            let isQ2Correct = correctAnswers.q2.some(answer => q2.includes(answer));
            let isQ3Correct = correctAnswers.q3.some(answer => q3.includes(answer));
            let isQ4Correct = correctAnswers.q4.some(answer => q4.includes(answer));

            if (isQ1Correct && isQ2Correct && isQ3Correct && isQ4Correct) {
                document.getElementById("content").style.display = "block";
                changeMusic();
                loadDiary();
                fallingGifs.start();
            } else {
                let wrongQuestions = [];
                if (!isQ1Correct) wrongQuestions.push("é—®é¢˜ 1");
                if (!isQ2Correct) wrongQuestions.push("é—®é¢˜ 2");
                if (!isQ3Correct) wrongQuestions.push("é—®é¢˜ 3");
                if (!isQ4Correct) wrongQuestions.push("é—®é¢˜ 4");
                alert(`ä»¥ä¸‹é—®é¢˜å›ç­”é”™è¯¯ï¼š${wrongQuestions.join(", ")}ï¼Œè¯·å†è¯•è¯•ï¼`);
            }
        }

        // å…¶ä»–å‡½æ•°ï¼ˆchangeMusicã€loadDiary ç­‰ï¼‰ä¿æŒä¸å˜
    </script>
</body>
</html>
